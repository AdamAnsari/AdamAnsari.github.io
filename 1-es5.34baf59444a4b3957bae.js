function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,n){if(t){if("string"==typeof t)return _arrayLikeToArray(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,n):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{iydT:function(t,n,e){"use strict";e.r(n),e.d(n,"HomeModule",(function(){return M}));var o,i=e("ofXK"),a=e("tyNb"),c=e("fXoL"),r=e("tk/3"),s=((o=function(){function t(n){_classCallCheck(this,t),this.http=n}return _createClass(t,[{key:"getData",value:function(){return this.http.get("https://www.reddit.com/.json")}},{key:"getCommentData",value:function(t){return this.http.get("https://www.reddit.com/".concat(t,"/.json"))}}]),t}()).\u0275fac=function(t){return new(t||o)(c.Ub(r.b))},o.\u0275prov=c.Hb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),l=e("aCBZ");function m(t,n){if(1&t){var e=c.Rb();c.Qb(0,"div",2),c.Yb("click",(function(t){c.gc(e);var o=n.index;return c.ac().customEvent(t,o+1)})),c.Qb(1,"div",3),c.lc(2),c.Pb(),c.Qb(3,"div",4),c.Qb(4,"span"),c.lc(5,"Comments"),c.Pb(),c.Qb(6,"span"),c.Qb(7,"button",5),c.lc(8,"Read Post"),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&t){var o=n.$implicit;c.Ab(2),c.mc(o.title)}}var b,u=((b=function(){function t(n,e,o){_classCallCheck(this,t),this.redditApiService=n,this.commS=e,this.router=o,this.data=[],this.dataObj={}}return _createClass(t,[{key:"ngOnInit",value:function(){this.getData()}},{key:"getData",value:function(){var t=this;this.redditApiService.getData().subscribe((function(n){t.content=Object.assign({},n),console.log(t.content),t.content.data.children.forEach((function(n,e){t.dataObj={title:n.data.title,permalink:n.data.permalink},t.data.push(t.dataObj),t.dataObj={}})),console.log(t.data),t.commS.getPostData(t.data)}))}},{key:"customEvent",value:function(t,n){console.log(t,n),this.router.navigate(["/posts/details/"+n],{state:{id:n,parmalink:this.data[n-1].permalink}}).then((function(t){return console.log("navigation success?",t)})).catch(console.error)}}]),t}()).\u0275fac=function(t){return new(t||b)(c.Lb(s),c.Lb(l.a),c.Lb(a.a))},b.\u0275cmp=c.Fb({type:b,selectors:[["app-home"]],decls:2,vars:1,consts:[[1,"home-main"],["class","blocks",3,"click",4,"ngFor","ngForOf"],[1,"blocks",3,"click"],[1,"title-text"],[1,"comments-btn"],["type","button",1,"btn","btn-primary"]],template:function(t,n){1&t&&(c.Qb(0,"div",0),c.kc(1,m,9,1,"div",1),c.Pb()),2&t&&(c.Ab(1),c.dc("ngForOf",n.data))},directives:[i.h],styles:[".home-main[_ngcontent-%COMP%]{height:85vh;overflow:auto;width:99%;margin:20px auto}.home-main[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:20px 10px}.blocks[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);cursor:pointer}.blocks[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.blocks[_ngcontent-%COMP%]   .comments-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{margin-right:10px;opacity:.4}"]}),b),p=["commentInput"],d=["replyInput"];function g(t,n){if(1&t){var e=c.Rb();c.Qb(0,"div"),c.Qb(1,"textarea",7,14),c.lc(3," "),c.Pb(),c.Qb(4,"button",9),c.Yb("click",(function(){c.gc(e);var t=c.fc(2);return c.ac(3).getReply(t.value)})),c.lc(5," Reply "),c.Pb(),c.Pb()}}function f(t,n){if(1&t&&(c.Qb(0,"div"),c.lc(1),c.Pb()),2&t){var e=n.$implicit,o=n.index;c.Ab(1),c.oc(" ",o+1,": ",e," ")}}function h(t,n){if(1&t&&(c.Ob(0),c.kc(1,f,2,2,"div",15),c.Nb()),2&t){var e=c.ac(3);c.Ab(1),c.dc("ngForOf",e.displayReply)}}function y(t,n){if(1&t){var e=c.Rb();c.Qb(0,"div",11),c.Qb(1,"div",12),c.lc(2),c.Pb(),c.Qb(3,"div",13),c.Qb(4,"span",3),c.Yb("click",(function(){return c.gc(e),c.ac(2).openReply()})),c.lc(5,"Reply"),c.Pb(),c.kc(6,g,6,0,"div",0),c.kc(7,h,2,1,"ng-container",0),c.Pb(),c.Pb()}if(2&t){var o=c.ac(2);c.Ab(2),c.mc(o.displayComment),c.Ab(4),c.dc("ngIf",o.replyFlag),c.Ab(1),c.dc("ngIf",o.displayReply)}}function v(t,n){if(1&t&&(c.Qb(0,"div",18),c.Qb(1,"strong"),c.lc(2,"Reply"),c.Pb(),c.lc(3),c.Pb()),2&t){var e=n.$implicit;c.Ab(3),c.nc(": ",e," ")}}function C(t,n){if(1&t&&(c.Ob(0),c.Qb(1,"div",16),c.Qb(2,"strong"),c.lc(3,"Comment"),c.Pb(),c.lc(4),c.Pb(),c.kc(5,v,4,1,"div",17),c.Nb()),2&t){var e=c.ac(2);c.Ab(4),c.nc(": ",e.mainComment," "),c.Ab(1),c.dc("ngForOf",e.commentApiData)}}function P(t,n){if(1&t){var e=c.Rb();c.Ob(0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"span",3),c.Yb("click",(function(){return c.gc(e),c.ac().close()})),c.lc(4,"X Close"),c.Pb(),c.Pb(),c.Qb(5,"div",4),c.Qb(6,"div",5),c.lc(7),c.Pb(),c.Pb(),c.Qb(8,"div",6),c.Qb(9,"textarea",7,8),c.lc(11," "),c.Pb(),c.Qb(12,"button",9),c.Yb("click",(function(){c.gc(e);var t=c.fc(10);return c.ac().getComments(t.value)})),c.lc(13," Add Comment "),c.Pb(),c.Pb(),c.kc(14,y,8,3,"div",10),c.kc(15,C,6,2,"ng-container",0),c.Pb(),c.Nb()}if(2&t){var o=c.ac();c.Ab(7),c.mc(o.data),c.Ab(7),c.dc("ngIf",o.displayComment),c.Ab(1),c.dc("ngIf",o.mainComment)}}var k,_,O,x=[{path:"details/:id",component:(k=function(){function t(n,e,o){_classCallCheck(this,t),this.commS=n,this.router=e,this.redditApiService=o,this.replyFlag=!1,this.displayReply=[],this.resData=[],this.commentApiData=[],this.router.getCurrentNavigation().extras.state&&(this.pathIndex=this.router.getCurrentNavigation().extras.state.id,this.parmalink=this.router.getCurrentNavigation().extras.state.parmalink)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.subs0=this.redditApiService.getCommentData(this.parmalink).subscribe((function(n){console.log(n),t.resData=[],t.commentApiData=[],t.resData=Object.assign({},n),t.resData[1].data.children.forEach((function(n,e){n.data.body&&t.commentApiData.push(n.data.body)})),t.mainComment=t.commentApiData[0],t.commentApiData.shift(),console.log(t.commentApiData)})),this.subs1=this.commS.postsData.subscribe((function(n){t.pathIndex?t.data=n[t.pathIndex-1].title:t.router.navigate(["/posts"]),console.log(t.data)}))}},{key:"getComments",value:function(t){var n=this;this.commS.getComment(t),this.subs2=this.commS.commentData.subscribe((function(t){console.log(t),t.trim().length>0&&(n.displayComment=t,n.commentInput.nativeElement.value="")}))}},{key:"getReply",value:function(t){var n=this;this.replyFlag=!1,this.commS.getReply(t),this.subs3=this.commS.replyData.subscribe((function(t){console.log(t),t.trim().length>0&&(n.displayReply.push(t),n.displayReply=_toConsumableArray(new Set(n.displayReply)),n.replyInput.nativeElement.value="")}))}},{key:"openReply",value:function(){this.replyFlag=!0}},{key:"close",value:function(){this.router.navigate(["/posts"])}},{key:"ngOnDestroy",value:function(){var t,n,e,o;null===(t=this.subs0)||void 0===t||t.unsubscribe(),null===(n=this.subs1)||void 0===n||n.unsubscribe(),null===(e=this.subs2)||void 0===e||e.unsubscribe(),null===(o=this.subs3)||void 0===o||o.unsubscribe()}}]),t}(),k.\u0275fac=function(t){return new(t||k)(c.Lb(l.a),c.Lb(a.a),c.Lb(s))},k.\u0275cmp=c.Fb({type:k,selectors:[["app-comments"]],viewQuery:function(t,n){var e;1&t&&(c.pc(p,!0),c.pc(d,!0)),2&t&&(c.ec(e=c.Zb())&&(n.commentInput=e.first),c.ec(e=c.Zb())&&(n.replyInput=e.first))},decls:1,vars:1,consts:[[4,"ngIf"],[1,"main-comment"],[1,"close-div"],[3,"click"],[1,"blocks"],[1,"title-text"],[1,"comment-input"],["rows","5","cols","40"],["commentInput",""],["type","button",1,"btn","btn-primary",3,"click"],["class","comments-block",4,"ngIf"],[1,"comments-block"],[1,"comment-text"],[1,"reply-text"],["replyInput",""],[4,"ngFor","ngForOf"],[1,"main-comment-text"],["class","replies",4,"ngFor","ngForOf"],[1,"replies"]],template:function(t,n){1&t&&c.kc(0,P,16,3,"ng-container",0),2&t&&c.dc("ngIf",n.data)},directives:[i.i,i.h],styles:[".main-comment[_ngcontent-%COMP%]{width:90%;margin:20px auto}.main-comment[_ngcontent-%COMP%]   .main-comment-text[_ngcontent-%COMP%]{margin:10px}.main-comment[_ngcontent-%COMP%]   .replies[_ngcontent-%COMP%]{margin:10px 0 0 20px}.main-comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:1px solid #d3d3d3;border-radius:5px}.main-comment[_ngcontent-%COMP%]   .close-div[_ngcontent-%COMP%]{display:flex;background-color:#000;color:#fff;padding:10px;cursor:pointer}.main-comment[_ngcontent-%COMP%]   .close-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto}.main-comment[_ngcontent-%COMP%]   .blocks[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.main-comment[_ngcontent-%COMP%]   .blocks[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700;padding:10px 0 10px 20px}.main-comment[_ngcontent-%COMP%]   .comment-input[_ngcontent-%COMP%]{margin:20px 0}.main-comment[_ngcontent-%COMP%]   .comments-block[_ngcontent-%COMP%]   .reply-text[_ngcontent-%COMP%]{margin-left:20px;font-size:12px}.main-comment[_ngcontent-%COMP%]   .comments-block[_ngcontent-%COMP%]   .reply-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.6;cursor:pointer}"]}),k)},{path:"",component:u}],A=((O=function t(){_classCallCheck(this,t)}).\u0275mod=c.Jb({type:O}),O.\u0275inj=c.Ib({factory:function(t){return new(t||O)},imports:[[a.b.forChild(x)],a.b]}),O),M=((_=function t(){_classCallCheck(this,t)}).\u0275mod=c.Jb({type:_}),_.\u0275inj=c.Ib({factory:function(t){return new(t||_)},imports:[[i.b,A]]}),_)}}]);